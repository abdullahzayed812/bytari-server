import type { NodePgDatabase } from "drizzle-orm/node-postgres";
import { unionMain, unionBranches, unionAnnouncements, unionFollowers, unionSettings, unionUsers } from "../schema";
import { logStep } from "./helpers";

export async function seedUnion(db: NodePgDatabase<any>) {
  console.log("๐๏ธ  Seeding union data...");

  // Step 1: Seed main union
  const mainUnion = await seedMainUnion(db);

  // Step 2: Seed union branches
  const branches = await seedUnionBranches(db);

  // Step 3: Seed union announcements
  await seedUnionAnnouncements(db, mainUnion, branches);

  // Step 4: Seed union settings
  await seedUnionSettings(db);

  console.log("โ Union data seeded successfully!\n");
  return {
    mainUnion,
    branches,
  };
}

async function seedMainUnion(db: NodePgDatabase<any>) {
  logStep("Creating main union");

  const [mainUnion] = await db
    .insert(unionMain)
    .values({
      name: "ููุงุจุฉ ุงูุฃุทุจุงุก ุงูุจูุทุฑููู ุงูุนุฑุงููุฉ",
      description:
        "ุงูููุงุจุฉ ุงูุฑุณููุฉ ููุฃุทุจุงุก ุงูุจูุทุฑููู ูู ุฌูููุฑูุฉ ุงูุนุฑุงูุ ุชุฃุณุณุช ูุชุทููุฑ ุงููููุฉ ุงูุจูุทุฑูุฉ ูุงูุงุฑุชูุงุก ุจูุณุชูู ุงูุฎุฏูุงุช ุงูุจูุทุฑูุฉ ูู ุงูุนุฑุงู. ุชูุฏู ุงูููุงุจุฉ ุฅูู ุญูุงูุฉ ุญููู ุงูุฃุนุถุงุก ูุชุทููุฑ ุงููุฏุฑุงุช ุงูููููุฉ ูุงูุนูููุฉ ููุฃุทุจุงุก ุงูุจูุทุฑููู.",
      logoUrl: "https://images.unsplash.com/photo-1583511655857-d19b40a7a54e?w=400&h=400&fit=crop",
      establishedYear: "1950",
      memberCount: "8,520",
      phone1: "07701234567",
      phone2: "07701234568",
      email: "info@iraqveterinary.org",
      website: "https://iraqveterinary.org",
      address: "ุจุบุฏุงุฏ - ุงูููุตูุฑ - ุดุงุฑุน ุงูููุงุจุงุช - ูุฌูุน ุงูููุงุจุงุช ุงูููููุฉ",
      services: [
        {
          id: "1",
          title: "ุงูุชุณุฌูู ุงููููู",
          description: "ุฎุฏูุงุช ุชุณุฌูู ูุชุฌุฏูุฏ ุฑุฎุต ุงูููุงุฑุณุฉ ุงูููููุฉ ููุฃุทุจุงุก ุงูุจูุทุฑููู",
          color: "#0EA5E9",
        },
        {
          id: "2",
          title: "ุงูุชุฏุฑูุจ ุงููุณุชูุฑ",
          description: "ุฏูุฑุงุช ููุฑุด ุนูู ูุชุทููุฑ ุงูููุงุฑุงุช ูุงููุนุฑูุฉ ุงูุนูููุฉ",
          color: "#10B981",
        },
        {
          id: "3",
          title: "ุงูุงุณุชุดุงุฑุงุช ุงููุงููููุฉ",
          description: "ุชูุฏูู ุงูุงุณุชุดุงุฑุงุช ูุงูุฏุนู ุงููุงูููู ููุฃุนุถุงุก",
          color: "#F59E0B",
        },
        {
          id: "4",
          title: "ุงููุคุชูุฑุงุช ุงูุนูููุฉ",
          description: "ุชูุธูู ุงููุคุชูุฑุงุช ูุงููุฏูุงุช ุงูุนูููุฉ ุงููุญููุฉ ูุงูุฏูููุฉ",
          color: "#EF4444",
        },
        {
          id: "5",
          title: "ุงูุจุนุซุงุช ุงูุฏุฑุงุณูุฉ",
          description: "ุชุณููู ุฅุฌุฑุงุกุงุช ุงูุจุนุซุงุช ูุงูุฒูุงูุงุช ุงูุฏุฑุงุณูุฉ ููุฎุงุฑุฌ",
          color: "#8B5CF6",
        },
        {
          id: "6",
          title: "ุงูุดูุงูู ูุงูููุชุฑุญุงุช",
          description: "ุงุณุชูุจุงู ููุนุงูุฌุฉ ุดูุงูู ูููุชุฑุญุงุช ุงูุฃุนุถุงุก",
          color: "#06B6D4",
        },
      ],
    })
    .returning();

  return mainUnion;
}

async function seedUnionBranches(db: NodePgDatabase<any>) {
  logStep("Creating union branches");

  const branchesData = [
    {
      name: "ูุฑุน ุจุบุฏุงุฏ",
      governorate: "ุจุบุฏุงุฏ",
      region: "central",
      address: "ุจุบุฏุงุฏ - ุงููุฑุงุฏุฉ - ูุฑุจ ูุณุชุดูู ุงููุฑุงุฏุฉ ุงูุชุนูููู",
      phone: "07711234567",
      email: "baghdad@iraqveterinary.org",
      president: "ุฏ. ุฃุญูุฏ ูุญูุฏ",
      membersCount: 2850,
      rating: 4,
      description: "ุงููุฑุน ุงูุฑุฆูุณู ูุงูุฃูุจุฑ ูู ุงูุนุฑุงูุ ูุฎุฏู ูุญุงูุธุฉ ุจุบุฏุงุฏ ูุงูููุงุทู ุงููุญูุทุฉ ุจูุง.",
      establishedYear: 1950,
      services: ["ุงูุชุณุฌูู ุงููููู", "ุงูุชุฏุฑูุจ ุงููุณุชูุฑ", "ุงูุงุณุชุดุงุฑุงุช ุงููุงููููุฉ"],
    },
    {
      name: "ูุฑุน ุงูุจุตุฑุฉ",
      governorate: "ุงูุจุตุฑุฉ",
      region: "southern",
      address: "ุงูุจุตุฑุฉ - ุงูุนุดุงุฑ - ุดุงุฑุน ุงูููุฑููุด",
      phone: "07721234567",
      email: "basra@iraqveterinary.org",
      president: "ุฏ. ุณุนุงุฏ ุนุจุฏุงููู",
      membersCount: 1250,
      rating: 5,
      description: "ูุฎุฏู ูุญุงูุธุฉ ุงูุจุตุฑุฉ ูุฌููุจ ุงูุนุฑุงูุ ูุนุฑูู ุจูุนุงููุงุชู ุงูุชุฏุฑูุจูุฉ ุงููุชููุฒุฉ.",
      establishedYear: 1965,
      services: ["ุงูุชุณุฌูู ุงููููู", "ุงูุชุฏุฑูุจ ุงููุณุชูุฑ", "ุงููุคุชูุฑุงุช ุงูุนูููุฉ"],
    },
    {
      name: "ูุฑุน ููููู",
      governorate: "ููููู",
      region: "northern",
      address: "ุงูููุตู - ุงูุฌูุนูุงุช - ูุฑุจ ุฌุงูุนุฉ ุงูููุตู",
      phone: "07731234567",
      email: "nineveh@iraqveterinary.org",
      president: "ุฏ. ุนูุฑ ุฎุงูุฏ",
      membersCount: 980,
      rating: 4,
      description: "ูุฎุฏู ูุญุงูุธุฉ ููููู ูุดูุงู ุงูุนุฑุงูุ ูุดุท ูู ุฅุนุงุฏุฉ ุงูุฅุนูุงุฑ ูุงูุชุทููุฑ ุงููููู.",
      establishedYear: 1972,
      services: ["ุงูุชุณุฌูู ุงููููู", "ุงูุจุนุซุงุช ุงูุฏุฑุงุณูุฉ", "ุงูุดูุงูู ูุงูููุชุฑุญุงุช"],
    },
    {
      name: "ูุฑุน ุฃุฑุจูู",
      governorate: "ุฃุฑุจูู",
      region: "kurdistan",
      address: "ุฃุฑุจูู - ุงููุฑูุฒ - ุดุงุฑุน 60 ูุชุฑ",
      phone: "07741234567",
      email: "erbil@iraqveterinary.org",
      president: "ุฏ. ููุฒุงุฏ ูุญููุฏ",
      membersCount: 1560,
      rating: 5,
      description: "ูุฎุฏู ุฅูููู ูุฑุฏุณุชุงูุ ูุนุฑูู ุจุชูููุงุชู ุงูุญุฏูุซุฉ ูุจุฑุงูุฌู ุงูุชุฏุฑูุจูุฉ ุงููุชุทูุฑุฉ.",
      establishedYear: 1980,
      services: ["ุงูุชุณุฌูู ุงููููู", "ุงูุชุฏุฑูุจ ุงููุณุชูุฑ", "ุงููุคุชูุฑุงุช ุงูุนูููุฉ", "ุงูุจุนุซุงุช ุงูุฏุฑุงุณูุฉ"],
    },
    {
      name: "ูุฑุน ุงููุฌู",
      governorate: "ุงููุฌู",
      region: "central",
      address: "ุงููุฌู - ุญู ุงูุญุณูู - ุดุงุฑุน ุงูุฅูุงู ุนูู",
      phone: "07751234567",
      email: "najaf@iraqveterinary.org",
      president: "ุฏ. ุญุณูู ูุงุธู",
      membersCount: 720,
      rating: 4,
      description: "ูุฎุฏู ูุญุงูุธุฉ ุงููุฌู ูุงูููุงุทู ุงููุณุทูุ ูุดุท ูู ูุฌุงู ุงูุฑุนุงูุฉ ุงูุจูุทุฑูุฉ ุงููุฌุชูุนูุฉ.",
      establishedYear: 1978,
      services: ["ุงูุชุณุฌูู ุงููููู", "ุงูุงุณุชุดุงุฑุงุช ุงููุงููููุฉ", "ุงูุดูุงูู ูุงูููุชุฑุญุงุช"],
    },
    {
      name: "ูุฑุน ูุฑุจูุงุก",
      governorate: "ูุฑุจูุงุก",
      region: "central",
      address: "ูุฑุจูุงุก - ูุฑุจ ูุฑูุฏ ุงูุฅูุงู ุงูุญุณูู",
      phone: "07761234567",
      email: "karbala@iraqveterinary.org",
      president: "ุฏ. ูุงุทูุฉ ุญุณู",
      membersCount: 680,
      rating: 4,
      description: "ูุฎุฏู ูุญุงูุธุฉ ูุฑุจูุงุกุ ูุนุฑูู ุจุจุฑุงูุฌู ุงูุชุทูุนูุฉ ูุฎุฏูุงุชู ุงููุฌุชูุนูุฉ.",
      establishedYear: 1982,
      services: ["ุงูุชุณุฌูู ุงููููู", "ุงูุชุฏุฑูุจ ุงููุณุชูุฑ", "ุงูุงุณุชุดุงุฑุงุช ุงููุงููููุฉ"],
    },
    {
      name: "ูุฑุน ุงูุณูููุงููุฉ",
      governorate: "ุงูุณูููุงููุฉ",
      region: "kurdistan",
      address: "ุงูุณูููุงููุฉ - ุดุงุฑุน ุณุงูู",
      phone: "07771234567",
      email: "sulaymaniyah@iraqveterinary.org",
      president: "ุฏ. ููุงุฑ ุนุจุฏุงูุฑุญูู",
      membersCount: 890,
      rating: 5,
      description: "ูุฎุฏู ูุญุงูุธุฉ ุงูุณูููุงููุฉุ ุฑุงุฆุฏ ูู ูุฌุงู ุงูุจุญุซ ุงูุนููู ูุงูุฏุฑุงุณุงุช ุงูุจูุทุฑูุฉ.",
      establishedYear: 1985,
      services: ["ุงูุชุณุฌูู ุงููููู", "ุงูุจุนุซุงุช ุงูุฏุฑุงุณูุฉ", "ุงููุคุชูุฑุงุช ุงูุนูููุฉ"],
    },
    {
      name: "ูุฑุน ุงูุฃูุจุงุฑ",
      governorate: "ุงูุฃูุจุงุฑ",
      region: "western",
      address: "ุงูุฑูุงุฏู - ุญู ุงูุฃุทุจุงุก",
      phone: "07781234567",
      email: "anbar@iraqveterinary.org",
      president: "ุฏ. ุฎุงูุฏ ุฅุจุฑุงููู",
      membersCount: 540,
      rating: 4,
      description: "ูุฎุฏู ูุญุงูุธุฉ ุงูุฃูุจุงุฑุ ูุชุฎุตุต ูู ูุฌุงู ุงูุทุจ ุงูุจูุทุฑู ููุญููุงูุงุช ุงูุตุญุฑุงููุฉ.",
      establishedYear: 1975,
      services: ["ุงูุชุณุฌูู ุงููููู", "ุงูุชุฏุฑูุจ ุงููุณุชูุฑ", "ุงูุดูุงูู ูุงูููุชุฑุญุงุช"],
    },
  ];

  const branches = await db.insert(unionBranches).values(branchesData).returning();
  return branches;
}

async function seedUnionAnnouncements(db: NodePgDatabase<any>, mainUnion: any, branches: any[]) {
  logStep("Creating union announcements");

  const announcementsData = [
    // Main union announcements
    {
      title: "ุงููุคุชูุฑ ุงูุนููู ุงูุณููู ุงูุซุงูู ูุงูุซูุงุซูู ูููุงุจุฉ ุงูุฃุทุจุงุก ุงูุจูุทุฑููู ุงูุนุฑุงููุฉ",
      content:
        "ุชุฏุนู ููุงุจุฉ ุงูุฃุทุจุงุก ุงูุจูุทุฑููู ุงูุนุฑุงููุฉ ุฌููุน ุงูุฒููุงุก ูุญุถูุฑ ุงููุคุชูุฑ ุงูุนููู ุงูุณููู ุงูุฐู ุณููุงู ูู ููุฏู ุจุงุจู ุงูุฏููู ุจุจุบุฏุงุฏ ุชุญุช ุดุนุงุฑ 'ุงูุทุจ ุงูุจูุทุฑู ุงูุญุฏูุซ ูุชุญุฏูุงุช ุงููุณุชูุจู' ุจูุดุงุฑูุฉ ุฎุจุฑุงุก ูุญูููู ูุนุฑุจ ูุฏููููู. ูููุฒูุฏ ูู ุงููุนูููุงุช ูุฑุฌู ุฒูุงุฑุฉ ูููุน ุงูููุงุจุฉ ุงูุฅููุชุฑููู.",
      mainUnionId: mainUnion.id,
      type: "event",
      isImportant: true,
      author: "ุงูุฃููู ุงูุนุงู ููููุงุจุฉ",
      views: 2450,
    },
    {
      title: "ุญููุฉ ุงูุชุทุนูู ุงููุทููุฉ ุถุฏ ุฅูููููุฒุง ุงูุทููุฑ ูู ุงูุนุฑุงู",
      content:
        "ุจุงูุชูุณูู ูุน ูุฒุงุฑุฉ ุงูุฒุฑุงุนุฉ ูุฏุงุฆุฑุฉ ุงูุจูุทุฑุฉุ ุฃุทููุช ุงูููุงุจุฉ ุญููุฉ ุดุงููุฉ ููุชุทุนูู ุถุฏ ุฅูููููุฒุง ุงูุทููุฑ ูู ุฌููุน ุงููุญุงูุธุงุช ุงูุนุฑุงููุฉ ูุญูุงูุฉ ุงูุซุฑูุฉ ุงูุฏุงุฌูุฉ ูุงูููุงูุฉ ูู ุงูุชุดุงุฑ ุงููุฑุถ. ูุฑุฌู ูู ุฌููุน ุงูุฒููุงุก ุงููุดุงุฑูุฉ ุงููุนุงูุฉ ูู ูุฐู ุงูุญููุฉ.",
      mainUnionId: mainUnion.id,
      type: "urgent",
      isImportant: true,
      author: "ูุฌูุฉ ุงูุตุญุฉ ุงูุญููุงููุฉ",
      views: 1870,
    },
    {
      title: "ุฏูุฑุฉ ุชุฏุฑูุจูุฉ ูู ุฌุฑุงุญุฉ ุงูุญููุงูุงุช ุงูุตุบูุฑุฉ ูุงูุชุฎุฏูุฑ ุงูุญุฏูุซ",
      content:
        "ุชูุธู ุงูููุงุจุฉ ุจุงูุชุนุงูู ูุน ูููุฉ ุงูุทุจ ุงูุจูุทุฑู ุฌุงูุนุฉ ุจุบุฏุงุฏ ุฏูุฑุฉ ุชุฏุฑูุจูุฉ ูุชุฎุตุตุฉ ูู ุฌุฑุงุญุฉ ุงูุญููุงูุงุช ุงูุตุบูุฑุฉ ูุชูููุงุช ุงูุชุฎุฏูุฑ ุงูุญุฏูุซุฉ. ุงูุฏูุฑุฉ ูุฌุงููุฉ ููุฃุนุถุงุก ูุชุณุชูุฑ ููุฏุฉ 5 ุฃูุงู. ุงูุชุณุฌูู ูุชุงุญ ุนุจุฑ ุงููููุน ุงูุฅููุชุฑููู.",
      mainUnionId: mainUnion.id,
      type: "event",
      isImportant: false,
      author: "ูุฌูุฉ ุงูุชุฏุฑูุจ ูุงูุชุทููุฑ",
      views: 1320,
    },
    {
      title: "ุฅูุฑุงุฑ ูุงุฆุญุฉ ุขุฏุงุจ ูุณููู ูููุฉ ุงูุทุจ ุงูุจูุทุฑู ุงููุญุฏุซุฉ",
      content:
        "ุฃูุฑ ูุฌูุณ ุงูููุงุจุฉ ุงููุงุฆุญุฉ ุงููุญุฏุซุฉ ูุขุฏุงุจ ูุณููู ูููุฉ ุงูุทุจ ุงูุจูุทุฑู ูู ุงูุนุฑุงู ูุงูุชู ุชุชุถูู ุงููุนุงููุฑ ุงูููููุฉ ุงูุญุฏูุซุฉ ูููุงุนุฏ ุงูููุงุฑุณุฉ ุงูุฃุฎูุงููุฉ ููุฃุทุจุงุก ุงูุจูุทุฑููู ูููุงู ูููุนุงููุฑ ุงูุฏูููุฉ. ูููู ุงูุงุทูุงุน ุนูู ุงููุงุฆุญุฉ ูุงููุฉ ุนุจุฑ ูููุน ุงูููุงุจุฉ.",
      mainUnionId: mainUnion.id,
      type: "general",
      isImportant: false,
      author: "ุงูุฃููู ุงูุนุงู ููููุงุจุฉ",
      views: 980,
    },

    // Branch announcements
    {
      title: "ูุฑุดุฉ ุนูู ูู ูุฑุน ุงูุจุตุฑุฉ ุญูู ุงูุฃูุฑุงุถ ุงููุดุชุฑูุฉ",
      content:
        "ููุธู ูุฑุน ุงูุจุตุฑุฉ ูุฑุดุฉ ุนูู ุญูู ุงูุฃูุฑุงุถ ุงููุดุชุฑูุฉ ุจูู ุงูุฅูุณุงู ูุงูุญููุงู ููู ุงูุณุจุช ุงููุงุฏู. ุงูุฏุนูุฉ ุนุงูุฉ ูุฌููุน ุงูุฃุทุจุงุก ุงูุจูุทุฑููู ูู ุงููุญุงูุธุฉ.",
      branchId: branches.find((b) => b.governorate === "ุงูุจุตุฑุฉ")?.id,
      type: "event",
      isImportant: false,
      author: "ุฑุฆูุณ ูุฑุน ุงูุจุตุฑุฉ",
      views: 320,
    },
    {
      title: "ุชุนูู ูุฑุน ุฃุฑุจูู ุนู ุชููุฑ ููุญ ุฏุฑุงุณูุฉ",
      content:
        "ูุชูุญ ูุฑุน ุฃุฑุจูู 5 ููุญ ุฏุฑุงุณูุฉ ูููุงุฌุณุชูุฑ ูู ุงูุทุจ ุงูุจูุทุฑู ููุนุงู ุงูุฏุฑุงุณู ุงููุงุฏู. ูุฑุฌู ุชูุฏูู ุงูุทูุจุงุช ูุจู ููุงูุฉ ุงูุดูุฑ ุงูุญุงูู.",
      branchId: branches.find((b) => b.governorate === "ุฃุฑุจูู")?.id,
      type: "general",
      isImportant: true,
      author: "ุฑุฆูุณ ูุฑุน ุฃุฑุจูู",
      views: 450,
    },
    {
      title: "ุงุฌุชูุงุน ุทุงุฑุฆ ูู ูุฑุน ููููู",
      content:
        "ูุฏุนู ูุฑุน ููููู ุฌููุน ุงูุฃุนุถุงุก ูุญุถูุฑ ุงุฌุชูุงุน ุทุงุฑุฆ ููู ุงูุฎููุณ ุงููุงุฏู ูููุงูุดุฉ ุงููุณุชุฌุฏุงุช ุงูุฃูููุฉ ูุขููุงุช ุงูุนูู ูู ุงูููุงุทู ุงููุญุฑุฑุฉ.",
      branchId: branches.find((b) => b.governorate === "ููููู")?.id,
      type: "meeting",
      isImportant: true,
      author: "ุฑุฆูุณ ูุฑุน ููููู",
      views: 280,
    },
  ];

  await db.insert(unionAnnouncements).values(announcementsData);
}

async function seedUnionSettings(db: NodePgDatabase<any>) {
  logStep("Creating union settings");

  await db.insert(unionSettings).values({
    unionName: "ููุงุจุฉ ุงูุฃุทุจุงุก ุงูุจูุทุฑููู ุงูุนุฑุงููุฉ",
    unionDescription: "ุงูููุงุจุฉ ุงูุฑุณููุฉ ููุฃุทุจุงุก ุงูุจูุทุฑููู ูู ุฌูููุฑูุฉ ุงูุนุฑุงู",
    contactEmail: "info@iraqveterinary.org",
    contactPhone: "07701234567",
    isMaintenanceMode: false,
    allowRegistration: true,
    requireApproval: true,
  });
}
